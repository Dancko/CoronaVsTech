---
name: checks

on: [push]

jobs:
  test-lint:
    name: Test
    runs-on: ubuntu-20.04
    steps:
      - uses: actions/checkout@v2 # Checking out the repo
      - name: pythonpath
        run: export PYTHONPATH=$PYTHONPATH:$PYTHONPATH/api/coronavstech
      - name: exporting django settings
        run: export DJANGO_SETTINGS_MODULE="coronavstech.settings"
      - name: Install dependencies
        uses: VaultVulp/action-pipenv@v2.0.1
        with:
          command: install -d
      - name: Test
        run: pytest api/coronavstech -s -v --durations=0